<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Word Typing Game</title>
<style>
    body {
        font-family: Arial, sans-serif;
    }
    #word-display {
        font-size: 24px;
        margin-bottom: 20px;
    }
    #word-input {
        display: none;
    }
</style>
</head>
<body>
<div id="word-display"></div>
<input type="text" id="word-input" placeholder="Type the word here">
<button id="start-button">Start Game</button>
<div id="score">Score: 0</div>
<div id="level">Level: 1</div>

<audio id="correctAudio" src="correct-answer.mp3"></audio>
<audio id="wrongAudio" src="wrong-answer.mp3"></audio>
<audio id="increaseLevelAudio" src="increase-level.mp3"></audio>
<audio id="decreaseLevelAudio" src="decrease-level.mp3"></audio>
<audio id="gameStartAudio" src="game-start.mp3"></audio>
<audio id="gameOverAudio" src="game-over.mp3"></audio>

<script>
let wordDisplay = document.getElementById('word-display');
let wordInput = document.getElementById('word-input');
let startButton = document.getElementById('start-button');
let scoreDisplay = document.getElementById('score');
let levelDisplay = document.getElementById('level');

let correctAudio = document.getElementById('correctAudio');
let wrongAudio = document.getElementById('wrongAudio');
let increaseLevelAudio = document.getElementById('increaseLevelAudio');
let decreaseLevelAudio = document.getElementById('decreaseLevelAudio');
let gameStartAudio = document.getElementById('gameStartAudio');
let gameOverAudio = document.getElementById('gameOverAudio');

let currentWord;
let score = 0;
let level = 1;
let timeLimit = 50;
let timer;
let correctCount = 0;
let incorrectCount = 0;

function fetchRandomWord() {
    fetch('https://random-word-api.herokuapp.com/word?number=1')
        .then(response => response.json())
        .then(data => {
            currentWord = data[0].toLowerCase();
            wordDisplay.textContent = currentWord;
            startTimer();
        })
        .catch(error => console.error('Error fetching random word:', error));
}

function startTimer() {
    let timeLeft = timeLimit;
    timer = setInterval(() => {
        timeLeft--;
        if (timeLeft <= 0) {
            clearInterval(timer);
            endGame();
        }
    }, 1000);
}

function playAudio(audioElement) {
    audioElement.currentTime = 0;
    audioElement.play();
}

function updateScore() {
    score += 1000 - (50 - timeLimit);
    scoreDisplay.textContent = 'Score: ' + score;
}

function updateLevel() {
    level++;
    levelDisplay.textContent = 'Level: ' + level;
    timeLimit -= 2; // Decrease time limit for each level
}

function checkWord() {
    let typedWord = wordInput.value.trim().toLowerCase();
    if (typedWord === currentWord) {
        clearInterval(timer);
        updateScore();
        correctCount++;
        if (correctCount >= 5) {
            updateLevel();
            correctCount = 0;
        }
        wordInput.value = '';
        fetchRandomWord();
        playAudio(correctAudio);
    } else {
        incorrectCount++;
        if (incorrectCount >= 3 && level > 1) {
            level--;
            levelDisplay.textContent = 'Level: ' + level;
            timeLimit += 2; // Increase time limit when decreasing level
            incorrectCount = 0;
            playAudio(decreaseLevelAudio);
        } else {
            playAudio(wrongAudio);
        }
    }
}

function endGame() {
    playAudio(gameOverAudio);
    alert('Game Over! Your final score is: ' + score);
    score = 0;
    level = 1;
    scoreDisplay.textContent = 'Score: ' + score;
    levelDisplay.textContent = 'Level: ' + level;
    clearInterval(timer);
    correctCount = 0;
    incorrectCount = 0;
}

startButton.addEventListener('click', () => {
    fetchRandomWord();
    wordInput.style.display = 'block';
    startButton.style.display = 'none';
    playAudio(gameStartAudio);
});

wordInput.addEventListener('input', checkWord);
</script>
</body>
</html>
